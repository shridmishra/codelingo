

import { Problem, Difficulty } from '../../types';
import { runTests } from './utils';

export const objectAndFunctionMastery: Omit<Problem, 'status' | 'isStarred' | 'notes'>[] = [
  {
    id: 'object-merge',
    title: 'Merge Objects',
    description: 'Write a function `mergeObjects` that takes two objects and returns a new object with properties from both. If a key exists in both, the value from the second object should be used.',
    difficulty: Difficulty.Medium,
    category: 'Object',
    group: 'Step 5: Object & Function Mastery',
    docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/JavaScript/Reference/Operators/Spread_syntax',
    starterCode: 'function mergeObjects(obj1, obj2) {\n  // Your code here\n}',
    testCases: [ { input: [{a:1, b:2}, {b:3, c:4}], expectedOutput: {a:1, b:3, c:4} } ],
    solutionCheck: (userCode: string) => runTests(userCode, [ { input: [{a:1, b:2}, {b:3, c:4}], expectedOutput: {a:1, b:3, c:4} }, { input: [{name: 'John'}, {age: 30}], expectedOutput: {name: 'John', age: 30} } ]),
  },
  {
    id: 'debounce-function',
    title: 'Debounce Function',
    description: 'Write a higher-order function `debounce` that takes a function `func` and a delay `wait`. It should return a new function that, as long as it continues to be invoked, will not be triggered. The function will be called only once after it stops being called for `wait` milliseconds.',
    difficulty: Difficulty.Hard,
    category: 'Function',
    group: 'Step 5: Object & Function Mastery',
    docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/API/setTimeout',
    starterCode: 'function debounce(func, wait) {\n  // Your code here\n  // Note: This is a conceptual challenge.\n}',
    testCases: [ { input: [], expectedOutput: "Conceptual: Cannot be auto-tested here." } ],
            solutionCheck: (_userCode: string) => [{ input: 'N/A', expected: 'Conceptual', actual: 'This assignment requires manual verification as it involves timing.', passed: false, }],  },
  {
    id: 'currying',
    title: 'Currying Function',
    description: 'Write a function `curry` that takes a function `fn` and returns a curried version of it. For example, `curry(sum)(1)(2)` should return `3` if `sum` is a function that adds two numbers.',
    difficulty: Difficulty.Hard,
    category: 'Function',
    group: 'Step 5: Object & Function Mastery',
    docsUrl: 'https://javascript.info/currying-partials',
    starterCode: 'function curry(fn) {\n  // Your code here\n // Conceptual\n}',
    testCases: [ { input: [], expectedOutput: "Conceptual: Cannot be auto-tested here." } ],
    solutionCheck: (_userCode: string) => [{ input: 'N/A', expected: 'Conceptual', actual: 'This assignment requires manual verification.', passed: false, }],
  },
  {
    id: 'deep-clone',
    title: 'Deep Clone Object',
    description: 'Write a function `deepClone` that creates a deep copy of a nested object or array.',
    difficulty: Difficulty.Hard,
    category: 'Object',
    group: 'Step 5: Object & Function Mastery',
    docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse',
    starterCode: 'function deepClone(obj) {\n  // Your code here\n}',
    testCases: [ { input: [{a: 1, b: { c: 2 }}], expectedOutput: {a: 1, b: { c: 2 }} } ],
    solutionCheck: (userCode: string) => runTests(userCode, [ { input: [{a: 1, b: { c: 2 }}], expectedOutput: {a: 1, b: { c: 2 }} }, { input: [[1, [2, 3]]], expectedOutput: [1, [2, 3]] } ]),
  },
  {
    id: 'check-property',
    title: 'Check Object Property',
    description: 'Write a function `hasProperty` that takes an object and a property name (string) and returns `true` if the object has the property, `false` otherwise.',
    difficulty: Difficulty.Easy,
    category: 'Object',
    group: 'Step 5: Object & Function Mastery',
    docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty',
    starterCode: 'function hasProperty(obj, prop) {\n  // Your code here\n}',
    testCases: [ { input: [{ a: 1 }, 'a'], expectedOutput: true }, { input: [{ a: 1 }, 'b'], expectedOutput: false } ],
    solutionCheck: (userCode: string) => runTests(userCode, [ { input: [{ a: 1, b: 2 }, 'b'], expectedOutput: true }, { input: [{}, 'a'], expectedOutput: false } ]),
  },
    {
        id: 'object-from-entries',
        title: 'Object from Entries',
        description: 'Write a function `fromEntries` that takes an array of key-value pairs (e.g., [["a", 1], ["b", 2]]) and returns a new object.',
        difficulty: Difficulty.Easy, category: 'Object', group: 'Step 5: Object & Function Mastery',
        docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries',
        starterCode: 'function fromEntries(entries) {\n  // Your code here\n}',
        testCases: [ { input: [[['a', 1], ['b', 2]]], expectedOutput: {a: 1, b: 2} } ],
        solutionCheck: (userCode: string) => runTests(userCode, [ { input: [[['name', 'John'], ['age', 30]]], expectedOutput: {name: 'John', age: 30} } ]),
    },
    {
        id: 'throttle-function',
        title: 'Throttle Function',
        description: 'Write a higher-order function `throttle` that takes a function `func` and a delay `limit`. It should return a new function that, when invoked, will only be triggered at most once during `limit` milliseconds.',
        difficulty: Difficulty.Hard, category: 'Function', group: 'Step 5: Object & Function Mastery',
        docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/API/setTimeout',
        starterCode: 'function throttle(func, limit) {\n  // Your code here\n  // Note: This is a conceptual challenge.\n}',
        testCases: [ { input: [], expectedOutput: "Conceptual: Cannot be auto-tested here." } ],
      solutionCheck: (_userCode: string) => [{ input: 'N/A', expected: 'Conceptual', actual: 'This assignment requires manual verification as it involves timing.', passed: false, }],
    },
    {
        id: 'memoize-function',
        title: 'Memoize Function',
        description: 'Write a higher-order function `memoize` that takes a function and returns a memoized version of it. The memoized function should cache the results of previous calls with the same arguments.',
        difficulty: Difficulty.Hard, category: 'Function', group: 'Step 5: Object & Function Mastery',
        docsUrl: 'https://en.wikipedia.org/wiki/Memoization',
        starterCode: 'function memoize(fn) {\n  // Your code here\n // Conceptual\n}',
        testCases: [ { input: [], expectedOutput: "Conceptual: Cannot be auto-tested here." } ],
        solutionCheck: (_userCode: string) => [{ input: 'N/A', expected: 'Conceptual', actual: 'This assignment requires manual verification.', passed: false, }],
    },
    {
        id: 'object-deep-freeze',
        title: 'Deep Freeze Object',
        description: 'Write a function `deepFreeze` that takes an object and recursively freezes it, making it and all its nested properties immutable.',
        difficulty: Difficulty.Hard,
        category: 'Object',
        group: 'Step 5: Object & Function Mastery',
        docsUrl: 'https://developer.mozilla.org/en/US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze',
        starterCode: 'function deepFreeze(obj) {\n  // Your code here\n}',
        testCases: [],
        solutionCheck: (_userCode: string) => [{ input: 'N/A', expected: 'Conceptual', actual: 'This assignment requires manual verification of object immutability.', passed: false, }],
    },
];
